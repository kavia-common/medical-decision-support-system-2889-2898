{"is_source_file": true, "format": "Python", "description": "This file defines a minimal client class for integrating with OneDrive, providing methods to save and retrieve session notes either on OneDrive or locally. It manages environment variables for configuration, checks availability, and handles file operations for session data.", "external_files": ["json", "os", "datetime", "typing"], "external_methods": [], "published": ["save_session_notes", "get_session_notes"], "classes": [{"name": "OneDriveClient", "description": "A facade class providing methods to save and retrieve session notes to/from OneDrive or local storage, based on environment configuration."}], "methods": [{"name": "__init__(self)", "description": "Initializes the OneDriveClient, reading environment variables to configure availability and paths.", "scope": "OneDriveClient", "scopeKind": "class"}, {"name": "bool _onedrive_available(self)", "description": "Checks if OneDrive is available based on environment variables.", "scope": "OneDriveClient", "scopeKind": "class"}, {"name": "Tuple[str,str] save_session_notes(self, session_id: str, notes: dict)", "description": "Saves session notes to OneDrive if available; if not, saves them locally. Returns the storage location type and path or identifier.", "scope": "OneDriveClient", "scopeKind": "class"}, {"name": "Optional[dict] get_session_notes(self, session_id: str)", "description": "Retrieves the latest session notes for a given session ID from local storage; may return None if not found.", "scope": "OneDriveClient", "scopeKind": "class"}], "calls": ["datetime.utcnow", "json.dump", "json.load", "os.getenv", "os.makedirs", "os.path.join", "os.listdir"], "search-terms": ["OneDriveClient", "session notes save", "local fallback", "session notes retrieval", "environment variable configuration"], "state": 2, "file_id": 20, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "OneDriveClient", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/onedrive_integration.py", "pattern": "/^class OneDriveClient:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/onedrive_integration.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "OneDriveClient", "scopeKind": "class"}, {"_type": "tag", "name": "_onedrive_available", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/onedrive_integration.py", "pattern": "/^    def _onedrive_available(self) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self)", "scope": "OneDriveClient", "scopeKind": "class"}, {"_type": "tag", "name": "get_session_notes", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/onedrive_integration.py", "pattern": "/^    def get_session_notes(self, session_id: str) -> Optional[dict]:$/", "language": "Python", "typeref": "typename:Optional[dict]", "kind": "member", "signature": "(self, session_id: str)", "scope": "OneDriveClient", "scopeKind": "class"}, {"_type": "tag", "name": "save_session_notes", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/onedrive_integration.py", "pattern": "/^    def save_session_notes(self, session_id: str, notes: dict) -> Tuple[str, str]:$/", "language": "Python", "typeref": "typename:Tuple[str,str]", "kind": "member", "signature": "(self, session_id: str, notes: dict)", "scope": "OneDriveClient", "scopeKind": "class"}], "hash": "328c2c500edbc99515ef67689f98d12f", "format-version": 4, "code-base-name": "medical_decision_backend", "filename": "medical_decision_backend/api/onedrive_integration.py", "revision_history": [{"41": ""}]}