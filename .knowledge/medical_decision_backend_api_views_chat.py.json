{"is_source_file": true, "format": "Python", "description": "This file defines API views for a medical decision support system backend, implementing endpoints for patient chat, clinical recommendations, report uploads, and combined session summaries. It utilizes Django REST Framework and interacts with agents, serializers, and utility modules.", "external_files": [".serializers", ".agents", ".rag_service", ".utils"], "external_methods": ["rest_framework.decorators.api_view", "rest_framework.response.Response", "rest_framework.status", "serializers.ChatRequestSerializer", "serializers.ChatResponseSerializer", "serializers.RecommendRequestSerializer", "serializers.RecommendResponseSerializer", "serializers.UploadReportSerializer", "serializers.UploadReportResponseSerializer", "serializers.GetRecommendationRequestSerializer", "serializers.GetRecommendationResponseSerializer", "agents.PatientAgent", "agents.ClinicalAgent", "rag_service.RAGIndex", "utils.ocean_professional_openapi_branding"], "published": ["chat", "recommend", "upload_report", "get_recommendation"], "classes": [], "methods": [{"name": "chat(request)", "description": "API endpoint that engages with the PatientAgent to facilitate structured chat sessions, saving de-identified notes.", "scope": "", "scopeKind": ""}, {"name": "recommend(request)", "description": "API endpoint that uses the ClinicalAgent with retrieval-augmented generation to answer clinical questions and provide citations.", "scope": "", "scopeKind": ""}, {"name": "upload_report(request)", "description": "API endpoint for uploading raw test reports and receiving structured summaries for review.", "scope": "", "scopeKind": ""}, {"name": "get_recommendation(request)", "description": "API endpoint that provides a high-level clinical recommendation summary based on session context.", "scope": "", "scopeKind": ""}], "calls": ["rest_framework.decorators.api_view", "rest_framework.response.Response", "rest_framework.status", "ChatRequestSerializer.is_valid", "ChatResponseSerializer", "RecommendRequestSerializer.is_valid", "RecommendResponseSerializer", "UploadReportSerializer.is_valid", "UploadReportResponseSerializer", "GetRecommendationRequestSerializer.is_valid", "GetRecommendationResponseSerializer", "_PATIENT.reply", "_CLINICAL.recommend", "_CLINICAL.refine_report", "_PATIENT.get_notes_location"], "search-terms": ["chat", "recommendation", "clinical_agent", "rag_service", "session_notes_location", "medical_decision_support", "upload_report", "api_views"], "state": 2, "file_id": 24, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "_CLINICAL", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^_CLINICAL = ClinicalAgent(_RAG)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_PATIENT", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^_PATIENT = PatientAgent()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_RAG", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^_RAG = RAGIndex(base_dir=\".\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "chat", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^def chat(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_recommendation", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^def get_recommendation(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "recommend", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^def recommend(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "upload_report", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2889-2898/medical_decision_backend/api/views_chat.py", "pattern": "/^def upload_report(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "c7b0423bbfbfb9f671629a51d2136051", "format-version": 4, "code-base-name": "medical_decision_backend", "filename": "medical_decision_backend/api/views_chat.py", "fields": [{"name": "_CLINICAL = ClinicalAgent(_RAG)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_PATIENT = PatientAgent()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_RAG = RAGIndex(base_dir=\".\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"49": ""}]}